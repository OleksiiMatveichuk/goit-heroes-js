import{l as d,a as c,r as m}from"./header-8249bdc7.js";function i(){const e=document.querySelector(".gallery");e.innerHTML="";const s='<li class="error-item"><p class="error-message">Try  looking for something else..</p></li>';e.innerHTML=s}i();const h=document.querySelector(".form");let f=document.querySelector('[name="comic"]'),y=document.querySelector('[name="name"]'),g=document.querySelector('[name="order"]'),p=document.querySelector('[name="date"]');const a=document.querySelector(".gallery"),S=document.querySelector(".header-input");S.addEventListener("input",d(q,500));async function q(){const e=this.value.trim();if(e.length<2){this.setAttribute("list","");return}const n=(await c.getAllCharacters({nameStartsWith:e})).results,t=document.createElement("datalist");t.id="search-results",n.forEach(u=>{const l=document.createElement("option");l.value=u.name,t.appendChild(l)});const o=document.querySelector("#search-results");o?o.replaceWith(t):this.after(t),this.setAttribute("list","search-results")}const b=document.querySelector(".container");let w=window.getComputedStyle(b).width,r=null;switch(w){case"375px":r=5;break;case"100%":r=5;break;case"1440px":r=16;break;default:r=8;break}a.setAttribute("data-limits",r);console.log("Run all_charaster");async function L(){try{const e=g.value.toLowerCase(),s=a.dataset.offset,n=await c.getAllCharacters({nameStartsWith:y.value,limit:r,offset:s,comics:f.value,orderBy:e,modifiedSince:p.value}),t=n.results;if(a.setAttribute("data-total",n.total),a.setAttribute("data-offset",n.offset),t.length===0){console.log("NOT FOUND!!!!"),i();return}return m(t)}catch(e){console.log(e)}}h.addEventListener("change",async e=>{e.preventDefault(),a.innerHTML="",a.innerHTML=await L()});
