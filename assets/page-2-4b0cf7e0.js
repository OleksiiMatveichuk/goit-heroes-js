import{l as v,a as h,r as g}from"./header-08b97c14.js";const o=document.querySelector('[name="order"]'),l=document.querySelector(".listbox");let c=!1;const b=Array.from(o.children);b.forEach(e=>{const a=e.value,t=e.textContent;S(a,t)});o.addEventListener("click",e=>{c?d():(l.classList.remove("visually-hidden"),c=!0)});function S(e,a){const t=document.createElement("button");t.classList.add("listbox-item"),t.dataset.value=e,t.textContent=a,t.type="button",t.addEventListener("click",()=>{o.value=e,d()}),l.append(t)}function d(){l.classList.add("visually-hidden"),c=!1}document.addEventListener("click",e=>{const a=e.target;!l.contains(a)&&!o.contains(a)&&d()});function L(){return'<li class="error-item"><p class="error-message">Try  looking for something else..</p></li>'}const q=document.querySelector(".form");let w=document.querySelector('[name="comic"]'),i=document.querySelector('[name="name"]'),x=document.querySelector('[name="order"]'),E=document.querySelector('[name="date"]');const s=document.querySelector(".gallery"),y=document.querySelector(".header-input");y.addEventListener("input",v(k,500));async function k(){const e=this.value.trim();if(e.length<2){this.setAttribute("list","");return}const t=(await h.getAllCharacters({nameStartsWith:e})).results,r=document.createElement("datalist");r.id="search-results",t.forEach(p=>{const f=document.createElement("option");f.value=p.name,r.appendChild(f)});const m=document.querySelector("#search-results");m?m.replaceWith(r):this.after(r),this.setAttribute("list","search-results")}const A=document.querySelector(".container");let u=window.getComputedStyle(A).width,n=null;parseInt(u,10)<375&&(u="100");switch(u){case"375px":n=4;break;case"100":n=4;break;case"1440px":n=16;break;default:n=8;break}s.setAttribute("data-limits",n);console.log("Run all_charaster");async function C(){try{const e=x.value.toLowerCase(),a=s.dataset.offset,t=await h.getAllCharacters({nameStartsWith:i.value,limit:n,offset:a,comics:w.value,orderBy:e,modifiedSince:E.value}),r=t.results;return s.setAttribute("data-total",t.total),s.setAttribute("data-offset",t.offset),r.length===0?(console.log("NOT FOUND!!!!"),L()):g(r)}catch(e){console.log(e)}}q.addEventListener("change",async e=>{e.preventDefault(),localStorage.setItem("searchValue",i.value),y.value=i.value,s.innerHTML="",s.innerHTML=await C()});
