import{l as h,a as u,r as f}from"./header-08b97c14.js";function y(){return'<li class="error-item"><p class="error-message">Try  looking for something else..</p></li>'}const p=document.querySelector(".form");let g=document.querySelector('[name="comic"]'),n=document.querySelector('[name="name"]'),S=document.querySelector('[name="order"]'),v=document.querySelector('[name="date"]');const r=document.querySelector(".gallery"),d=document.querySelector(".header-input");d.addEventListener("input",h(b,500));async function b(){const e=this.value.trim();if(e.length<2){this.setAttribute("list","");return}const s=(await u.getAllCharacters({nameStartsWith:e})).results,t=document.createElement("datalist");t.id="search-results",s.forEach(m=>{const i=document.createElement("option");i.value=m.name,t.appendChild(i)});const c=document.querySelector("#search-results");c?c.replaceWith(t):this.after(t),this.setAttribute("list","search-results")}const q=document.querySelector(".container");let o=window.getComputedStyle(q).width,a=null;parseInt(o,10)<375&&(o="100");switch(o){case"375px":a=4;break;case"100":a=4;break;case"1440px":a=16;break;default:a=8;break}r.setAttribute("data-limits",a);console.log("Run all_charaster");async function w(){try{const e=S.value.toLowerCase(),l=r.dataset.offset,s=await u.getAllCharacters({nameStartsWith:n.value,limit:a,offset:l,comics:g.value,orderBy:e,modifiedSince:v.value}),t=s.results;return r.setAttribute("data-total",s.total),r.setAttribute("data-offset",s.offset),t.length===0?(console.log("NOT FOUND!!!!"),y()):f(t)}catch(e){console.log(e)}}p.addEventListener("change",async e=>{e.preventDefault(),localStorage.setItem("searchValue",n.value),d.value=n.value,r.innerHTML="",r.innerHTML=await w()});
