import{l as u,a as l,r as d}from"./header-f0b58f5e.js";function c(){const e=document.querySelector(".gallery");e.innerHTML="";const s='<li class="error-item"><p class="error-message">Try  looking for something else..</p></li>';e.innerHTML=s}c();const m=document.querySelector(".form");let f=document.querySelector('[name="comic"]'),h=document.querySelector('[name="name"]'),y=document.querySelector('[name="order"]'),g=document.querySelector('[name="date"]');const r=document.querySelector(".gallery"),p=document.querySelector(".header-input");p.addEventListener("input",u(S,500));async function S(){const e=this.value.trim();if(e.length<2){this.setAttribute("list","");return}const n=(await l.getAllCharacters({nameStartsWith:e})).results,t=document.createElement("datalist");t.id="search-results",n.forEach(i=>{const o=document.createElement("option");o.value=i.name,t.appendChild(o)});const a=document.querySelector("#search-results");a?a.replaceWith(t):this.after(t),this.setAttribute("list","search-results")}console.log("Run all_charaster");async function q(){try{const e=y.value.toLowerCase(),s=r.dataset.offset,n=r.dataset.limit,t=await l.getAllCharacters({nameStartsWith:h.value,limit:n,offset:s,comics:f.value,orderBy:e,modifiedSince:g.value}),a=t.results;if(r.setAttribute("data-total",t.total),r.setAttribute("data-offset",t.offset),a.length===0){console.log("NOT FOUND!!!!"),c();return}return d(a)}catch(e){console.log(e)}}m.addEventListener("change",async e=>{e.preventDefault(),r.innerHTML="",r.innerHTML=await q()});
