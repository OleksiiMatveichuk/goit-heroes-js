import{l as u,a as c,r as d}from"./header-d1473223.js";function m(){return'<li class="error-item"><p class="error-message">Try  looking for something else..</p></li>'}const h=document.querySelector(".form");let f=document.querySelector('[name="comic"]'),y=document.querySelector('[name="name"]'),p=document.querySelector('[name="order"]'),g=document.querySelector('[name="date"]');const a=document.querySelector(".gallery"),S=document.querySelector(".header-input");S.addEventListener("input",u(b,500));async function b(){const e=this.value.trim();if(e.length<2){this.setAttribute("list","");return}const s=(await c.getAllCharacters({nameStartsWith:e})).results,t=document.createElement("datalist");t.id="search-results",s.forEach(i=>{const l=document.createElement("option");l.value=i.name,t.appendChild(l)});const o=document.querySelector("#search-results");o?o.replaceWith(t):this.after(t),this.setAttribute("list","search-results")}const q=document.querySelector(".container");let w=window.getComputedStyle(q).width,r=null;switch(w){case"375px":r=5;break;case"100%":r=5;break;case"1440px":r=16;break;default:r=8;break}a.setAttribute("data-limits",r);console.log("Run all_charaster");async function v(){try{const e=p.value.toLowerCase(),n=a.dataset.offset,s=await c.getAllCharacters({nameStartsWith:y.value,limit:r,offset:n,comics:f.value,orderBy:e,modifiedSince:g.value}),t=s.results;return a.setAttribute("data-total",s.total),a.setAttribute("data-offset",s.offset),t.length===0?(console.log("NOT FOUND!!!!"),m()):d(t)}catch(e){console.log(e)}}h.addEventListener("change",async e=>{e.preventDefault(),a.innerHTML="",a.innerHTML=await v()});
