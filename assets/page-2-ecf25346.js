import{l as i,a as u}from"./index-7924ca72.js";const r=document.querySelector(".header-input");console.log("Run header2.js");window.addEventListener("DOMContentLoaded",()=>{const a=new URLSearchParams(window.location.search).get("searchQuery"),s=document.querySelector(".header-input");s.value=a||""});r.addEventListener("click",()=>{r.select()});r.addEventListener("input",i(l,500));async function l(){const t=this.value.trim();if(t.length<2){this.setAttribute("list","");return}const s=(await u.getAllCharacters({nameStartsWith:t})).results,e=document.createElement("datalist");e.id="search-results",s.forEach(o=>{const c=document.createElement("option");c.value=o.name,e.appendChild(c)});const n=document.querySelector("#search-results");n?n.replaceWith(e):this.after(e),this.setAttribute("list","search-results")}const d=document.querySelector("#search-form");d.addEventListener("submit",t=>{t.preventDefault();const a=r.value.trim(),s=`../page-2.html?searchQuery=${a}`;if(window.location.href.indexOf("page-2.html")===-1)try{window.open(s)}catch(e){console.log(e.message)}else{const e=document.querySelector(".header-input");e.value=a}});
